{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anlnd\\\\Documents\\\\GitHub\\\\BookingDoctor\\\\ReactFE\\\\src\\\\containers\\\\System\\\\Admin\\\\UserRedux.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { FormattedMessage } from \"react-intl\";\nimport * as actions from \"../../../store/actions\"; // import { getAllCodeService } from \"../../../services/userService\";\n\nimport { LANGUAGES, CRUD_ACTIONS, CommonUtils } from \"../../../utils\";\nimport \"./UserRedux.scss\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\"; // This only needs to be imported once in your app\n\nimport TableManageUser from \"./TableManageUser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserRedux extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChangeImg = async event => {\n      let data = event.target.files;\n      let file = data[0];\n      console.log(file);\n\n      if (file) {\n        let base64 = await CommonUtils.convertBase64(file);\n        let objectUrl = URL.createObjectURL(file);\n        this.setState({\n          previewImg: objectUrl,\n          avatar: base64\n        });\n      }\n    };\n\n    this.openPreviewImg = () => {\n      if (!this.state.previewImg) return;\n      this.setState({\n        isOpen: true\n      });\n    };\n\n    this.handleSaveUser = () => {\n      let isValid = this.checkValidInput();\n      if (isValid === false) return;\n      let {\n        action\n      } = this.state; ///check action\n\n      if (action === CRUD_ACTIONS.CREATE) {\n        this.props.createNewUser({\n          email: this.state.email,\n          password: this.state.password,\n          firstName: this.state.firstName,\n          lastName: this.state.lastName,\n          address: this.state.address,\n          phoneNumber: this.state.phoneNumber,\n          gender: this.state.gender,\n          roleId: this.state.role,\n          positionId: this.state.position,\n          avatar: this.state.avatar\n        });\n      }\n\n      if (action === CRUD_ACTIONS.EDIT) {\n        //redux edit\n        this.props.editAUserRedux({\n          id: this.state.userEditId,\n          email: this.state.email,\n          password: this.state.password,\n          firstName: this.state.firstName,\n          lastName: this.state.lastName,\n          address: this.state.address,\n          phoneNumber: this.state.phoneNumber,\n          gender: this.state.gender,\n          roleId: this.state.role,\n          positionId: this.state.position,\n          avatar: this.state.avatar\n        });\n      }\n    };\n\n    this.checkValidInput = () => {\n      let isValid = true;\n      let arrCheck = [\"email\", \"password\", \"firstName\", \"lastName\", \"address\", \"phoneNumber\"];\n\n      for (let i = 0; i < arrCheck.length; i++) {\n        if (!this.state[arrCheck[i]]) {\n          isValid = false;\n          alert(\"input required :\" + arrCheck[i]);\n          break;\n        }\n      }\n\n      return isValid;\n    };\n\n    this.onChangeInput = (event, id) => {\n      let copyState = { ...this.state\n      };\n      copyState[id] = event.target.value;\n      this.setState({ ...copyState\n      });\n    };\n\n    this.handleEditUserFromParent = user => {\n      let imageBase64 = \"\";\n\n      if (user.image) {\n        imageBase64 = new Buffer(user.image, \"base64\").toString(\"binary\");\n      }\n\n      this.setState({\n        email: user.email,\n        password: \"HARDCODE\",\n        firstName: user.firstName,\n        lastName: user.lastName,\n        address: user.address,\n        phoneNumber: user.phoneNumber,\n        gender: user.gender,\n        roleId: user.role,\n        position: user.position,\n        avatar: \"\",\n        previewImg: imageBase64,\n        action: CRUD_ACTIONS.EDIT,\n        userEditId: user.id\n      });\n    };\n\n    this.state = {\n      genderArr: [],\n      positionArr: [],\n      roleArr: [],\n      previewImg: \"\",\n      isOpen: false,\n      //Khoi tao\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      address: \"\",\n      phoneNumber: \"\",\n      gender: \"\",\n      position: \"\",\n      role: \"\",\n      avatar: \"\",\n      action: \"\",\n      userEditId: \"\"\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.gendersRedux !== this.props.gendersRedux) {\n      //render lai gan value vao ben\n      let arrGender = this.props.gendersRedux;\n      this.setState({\n        genderArr: arrGender,\n        gender: arrGender && arrGender.length > 0 ? arrGender[0].keyMap : \"\"\n      });\n    }\n\n    if (prevProps.positionsRedux !== this.props.positionsRedux) {\n      //render lai gan value vao ben\n      let arrPositions = this.props.positionsRedux;\n      this.setState({\n        positionArr: arrPositions,\n        position: arrPositions && arrPositions.length > 0 ? arrPositions[0].keyMap : \"\"\n      });\n    }\n\n    if (prevProps.rolesRedux !== this.props.rolesRedux) {\n      let arrRoles = this.props.rolesRedux; //render lai gan value vao ben\n\n      this.setState({\n        roleArr: this.props.rolesRedux,\n        role: arrRoles && arrRoles.length > 0 ? arrRoles[0].keyMap : \"\"\n      });\n    }\n\n    if (prevProps.listUser !== this.props.listUser) {\n      let arrGender = this.props.gendersRedux;\n      let arrPositions = this.props.positionsRedux;\n      let arrRoles = this.props.rolesRedux;\n      this.setState({\n        email: \"\",\n        password: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        address: \"\",\n        phoneNumber: \"\",\n        avatar: \"\",\n        previewImg: \"\",\n        gender: arrGender && arrGender.length > 0 ? arrGender[0].keyMap : \"\",\n        position: arrPositions && arrPositions.length > 0 ? arrPositions[0].keyMap : \"\",\n        role: arrRoles && arrRoles.length > 0 ? arrRoles[0].keyMap : \"\",\n        action: CRUD_ACTIONS.CREATE\n      });\n    }\n  }\n\n  async componentDidMount() {\n    this.props.getGenderStart();\n    this.props.getPositionStart();\n    this.props.getRoleStart(); // this.props.dispatch(actions.fetchGenderStart());\n  } // try {\n  //   let res = await getAllCodeService(\"gender\");\n  //   if (res && res.errCode === 0) {\n  //     this.setState({\n  //       genderArr: res.data,\n  //     });\n  //   }\n  // } catch (e) {\n  //   console.log(e);\n  // }\n\n\n  render() {\n    //gan biet cho mang\n    let genders = this.state.genderArr;\n    let positions = this.state.positionArr;\n    let roles = this.state.roleArr;\n    let language = this.props.language;\n    let isGender = this.state.isLoadingGender;\n    let {\n      email,\n      password,\n      firstName,\n      lastName,\n      address,\n      phoneNumber,\n      role,\n      position,\n      gender\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-redux-container\",\n      style: {\n        height: '960px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title \",\n        children: \" User redux\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-redux-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 my-3\",\n              children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                id: \"manage-user.add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"email\",\n                value: email,\n                onChange: event => {\n                  this.onChangeInput(event, \"email\");\n                },\n                disabled: this.state.action === CRUD_ACTIONS.EDIT ? true : false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"password\",\n                value: password,\n                onChange: event => {\n                  this.onChangeInput(event, \"password\");\n                },\n                disabled: this.state.action === CRUD_ACTIONS.EDIT ? true : false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.firstName\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"text\",\n                value: firstName,\n                onChange: event => {\n                  this.onChangeInput(event, \"firstName\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.lastName\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"text\",\n                value: lastName,\n                onChange: event => {\n                  this.onChangeInput(event, \"lastName\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-9\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"text\",\n                value: address,\n                onChange: event => {\n                  this.onChangeInput(event, \"address\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"text\",\n                value: phoneNumber,\n                onChange: event => {\n                  this.onChangeInput(event, \"phoneNumber\");\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"inputState\",\n                className: \"form-control\",\n                value: gender,\n                onChange: event => {\n                  this.onChangeInput(event, \"gender\");\n                },\n                children: genders && genders.length > 0 && genders.map((item, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.keyMap,\n                    children: language === LANGUAGES.VI ? item.valueVi : item.valueEn\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.position\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"inputState\",\n                className: \"form-control\",\n                value: position,\n                onChange: event => {\n                  this.onChangeInput(event, \"position\");\n                },\n                children: positions && positions.length > 0 && positions.map((item, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.keyMap,\n                    children: language === LANGUAGES.VI ? item.valueVi : item.valueEn\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: role,\n                id: \"inputState\",\n                className: \"form-control\",\n                onChange: event => {\n                  this.onChangeInput(event, \"role\");\n                },\n                children: roles && roles.length > 0 && roles.map((item, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.keyMap,\n                    children: language === LANGUAGES.VI ? item.valueVi : item.valueEn\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preview-container-img\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"preview-img\",\n                  type: \"file\",\n                  hidden: true,\n                  onChange: event => {\n                    this.handleOnChangeImg(event);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label-upload\",\n                  htmlFor: \"preview-img\",\n                  children: [\"T\\u1EA3i \\u1EA2nh \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-upload\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preview-img\",\n                  style: {\n                    backgroundImage: `url(\"${this.state.previewImg}\")`\n                  },\n                  onClick: () => this.openPreviewImg()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 my-5\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: this.state.action === CRUD_ACTIONS.EDIT ? \"btn btn-warning\" : \"btn btn-primary\",\n                onClick: () => this.handleSaveUser(),\n                children: this.state.action === CRUD_ACTIONS.EDIT ? /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"manage-user.save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-\\u03005\",\n              children: /*#__PURE__*/_jsxDEV(TableManageUser, {\n                handleEditUserFromParent: this.handleEditUserFromParent,\n                action: this.state.action\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), this.state.isOpen === true && /*#__PURE__*/_jsxDEV(Lightbox, {\n        mainSrc: this.state.previewImg,\n        onCloseRequest: () => this.setState({\n          isOpen: false\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoadingGender: state.admin.isLoadingGender,\n    language: state.app.language,\n    gendersRedux: state.admin.genders,\n    positionsRedux: state.admin.positions,\n    listUser: state.admin.users,\n    rolesRedux: state.admin.roles\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getGenderStart: () => dispatch(actions.fetchGenderStart()),\n    getPositionStart: () => dispatch(actions.fetchPositionStart()),\n    getRoleStart: () => dispatch(actions.fetchRoleStart()),\n    createNewUser: data => dispatch(actions.createNewUser(data)),\n    fetchUserRedux: () => dispatch(actions.fetchAllUsersStart()),\n    editAUserRedux: data => dispatch(actions.editAUser(data))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserRedux);","map":{"version":3,"sources":["C:/Users/anlnd/Documents/GitHub/BookingDoctor/ReactFE/src/containers/System/Admin/UserRedux.js"],"names":["React","Component","connect","FormattedMessage","actions","LANGUAGES","CRUD_ACTIONS","CommonUtils","Lightbox","TableManageUser","UserRedux","constructor","props","handleOnChangeImg","event","data","target","files","file","console","log","base64","convertBase64","objectUrl","URL","createObjectURL","setState","previewImg","avatar","openPreviewImg","state","isOpen","handleSaveUser","isValid","checkValidInput","action","CREATE","createNewUser","email","password","firstName","lastName","address","phoneNumber","gender","roleId","role","positionId","position","EDIT","editAUserRedux","id","userEditId","arrCheck","i","length","alert","onChangeInput","copyState","value","handleEditUserFromParent","user","imageBase64","image","Buffer","toString","genderArr","positionArr","roleArr","componentDidUpdate","prevProps","prevState","snapshot","gendersRedux","arrGender","keyMap","positionsRedux","arrPositions","rolesRedux","arrRoles","listUser","componentDidMount","getGenderStart","getPositionStart","getRoleStart","render","genders","positions","roles","language","isGender","isLoadingGender","height","map","item","index","VI","valueVi","valueEn","backgroundImage","mapStateToProps","admin","app","users","mapDispatchToProps","dispatch","fetchGenderStart","fetchPositionStart","fetchRoleStart","fetchUserRedux","fetchAllUsersStart","editAUser"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport * as actions from \"../../../store/actions\";\r\n// import { getAllCodeService } from \"../../../services/userService\";\r\nimport { LANGUAGES, CRUD_ACTIONS, CommonUtils } from \"../../../utils\";\r\nimport \"./UserRedux.scss\";\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\"; // This only needs to be imported once in your app\r\nimport TableManageUser from \"./TableManageUser\";\r\n\r\nclass UserRedux extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      genderArr: [],\r\n      positionArr: [],\r\n      roleArr: [],\r\n      previewImg: \"\",\r\n      isOpen: false,\r\n\r\n      //Khoi tao\r\n      email: \"\",\r\n      password: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      address: \"\",\r\n      phoneNumber: \"\",\r\n      gender: \"\",\r\n      position: \"\",\r\n      role: \"\",\r\n      avatar: \"\",\r\n\r\n      action: \"\",\r\n      userEditId: \"\",\r\n    };\r\n  }\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.gendersRedux !== this.props.gendersRedux) {\r\n      //render lai gan value vao ben\r\n      let arrGender = this.props.gendersRedux;\r\n      this.setState({\r\n        genderArr: arrGender,\r\n        gender: arrGender && arrGender.length > 0 ? arrGender[0].keyMap : \"\",\r\n      });\r\n    }\r\n    if (prevProps.positionsRedux !== this.props.positionsRedux) {\r\n      //render lai gan value vao ben\r\n      let arrPositions = this.props.positionsRedux;\r\n      this.setState({\r\n        positionArr: arrPositions,\r\n        position:\r\n          arrPositions && arrPositions.length > 0 ? arrPositions[0].keyMap : \"\",\r\n      });\r\n    }\r\n    if (prevProps.rolesRedux !== this.props.rolesRedux) {\r\n      let arrRoles = this.props.rolesRedux;\r\n      //render lai gan value vao ben\r\n      this.setState({\r\n        roleArr: this.props.rolesRedux,\r\n        role: arrRoles && arrRoles.length > 0 ? arrRoles[0].keyMap : \"\",\r\n      });\r\n    }\r\n    if (prevProps.listUser !== this.props.listUser) {\r\n      let arrGender = this.props.gendersRedux;\r\n      let arrPositions = this.props.positionsRedux;\r\n      let arrRoles = this.props.rolesRedux;\r\n      this.setState({\r\n        email: \"\",\r\n        password: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        address: \"\",\r\n        phoneNumber: \"\",\r\n        avatar: \"\",\r\n        previewImg: \"\",\r\n\r\n        gender: arrGender && arrGender.length > 0 ? arrGender[0].keyMap : \"\",\r\n        position:\r\n          arrPositions && arrPositions.length > 0 ? arrPositions[0].keyMap : \"\",\r\n        role: arrRoles && arrRoles.length > 0 ? arrRoles[0].keyMap : \"\",\r\n\r\n        action: CRUD_ACTIONS.CREATE,\r\n      });\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.props.getGenderStart();\r\n    this.props.getPositionStart();\r\n    this.props.getRoleStart();\r\n    // this.props.dispatch(actions.fetchGenderStart());\r\n  }\r\n\r\n  // try {\r\n  //   let res = await getAllCodeService(\"gender\");\r\n  //   if (res && res.errCode === 0) {\r\n  //     this.setState({\r\n  //       genderArr: res.data,\r\n  //     });\r\n  //   }\r\n  // } catch (e) {\r\n  //   console.log(e);\r\n  // }\r\n\r\n  handleOnChangeImg = async (event) => {\r\n    let data = event.target.files;\r\n    let file = data[0];\r\n    console.log(file);\r\n    if (file) {\r\n      let base64 = await CommonUtils.convertBase64(file);\r\n      let objectUrl = URL.createObjectURL(file);\r\n      this.setState({\r\n        previewImg: objectUrl,\r\n        avatar: base64,\r\n      });\r\n    }\r\n  };\r\n  openPreviewImg = () => {\r\n    if (!this.state.previewImg) return;\r\n    this.setState({\r\n      isOpen: true,\r\n    });\r\n  };\r\n  handleSaveUser = () => {\r\n    let isValid = this.checkValidInput();\r\n    if (isValid === false) return;\r\n\r\n    let { action } = this.state;\r\n\r\n    ///check action\r\n\r\n    if (action === CRUD_ACTIONS.CREATE) {\r\n      this.props.createNewUser({\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n        firstName: this.state.firstName,\r\n        lastName: this.state.lastName,\r\n        address: this.state.address,\r\n        phoneNumber: this.state.phoneNumber,\r\n        gender: this.state.gender,\r\n        roleId: this.state.role,\r\n        positionId: this.state.position,\r\n        avatar: this.state.avatar,\r\n      });\r\n    }\r\n    if (action === CRUD_ACTIONS.EDIT) {\r\n      //redux edit\r\n      this.props.editAUserRedux({\r\n        id: this.state.userEditId,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n        firstName: this.state.firstName,\r\n        lastName: this.state.lastName,\r\n        address: this.state.address,\r\n        phoneNumber: this.state.phoneNumber,\r\n        gender: this.state.gender,\r\n        roleId: this.state.role,\r\n        positionId: this.state.position,\r\n        avatar: this.state.avatar,\r\n      });\r\n    }\r\n  };\r\n\r\n  checkValidInput = () => {\r\n    let isValid = true;\r\n    let arrCheck = [\r\n      \"email\",\r\n      \"password\",\r\n      \"firstName\",\r\n      \"lastName\",\r\n      \"address\",\r\n      \"phoneNumber\",\r\n    ];\r\n    for (let i = 0; i < arrCheck.length; i++) {\r\n      if (!this.state[arrCheck[i]]) {\r\n        isValid = false;\r\n        alert(\"input required :\" + arrCheck[i]);\r\n        break;\r\n      }\r\n    }\r\n    return isValid;\r\n  };\r\n  onChangeInput = (event, id) => {\r\n    let copyState = { ...this.state };\r\n\r\n    copyState[id] = event.target.value;\r\n    this.setState({\r\n      ...copyState,\r\n    });\r\n  };\r\n\r\n  handleEditUserFromParent = (user) => {\r\n    let imageBase64 = \"\";\r\n    if (user.image) {\r\n      imageBase64 = new Buffer(user.image, \"base64\").toString(\"binary\");\r\n    }\r\n    this.setState({\r\n      email: user.email,\r\n      password: \"HARDCODE\",\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      address: user.address,\r\n      phoneNumber: user.phoneNumber,\r\n      gender: user.gender,\r\n      roleId: user.role,\r\n      position: user.position,\r\n      avatar: \"\",\r\n      previewImg: imageBase64,\r\n      action: CRUD_ACTIONS.EDIT,\r\n\r\n      userEditId: user.id,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    //gan biet cho mang\r\n    let genders = this.state.genderArr;\r\n    let positions = this.state.positionArr;\r\n    let roles = this.state.roleArr;\r\n\r\n    let language = this.props.language;\r\n    let isGender = this.state.isLoadingGender;\r\n\r\n    let {\r\n      email,\r\n      password,\r\n      firstName,\r\n      lastName,\r\n      address,\r\n      phoneNumber,\r\n      role,\r\n      position,\r\n      gender,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"user-redux-container\"  style={{height:'960px'}}>\r\n        <div className=\"title \"> User redux</div>\r\n        <div className=\"col-12\">\r\n          {/* {isGender === true ? \"loading gender\" : \"failed\"} */}\r\n        </div>\r\n        <div className=\"user-redux-body\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12 my-3\">\r\n                <FormattedMessage id=\"manage-user.add\" />\r\n              </div>\r\n\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.email\" />\r\n                </label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"email\");\r\n                  }}\r\n                  disabled={\r\n                    this.state.action === CRUD_ACTIONS.EDIT ? true : false\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.password\" />\r\n                </label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"password\"\r\n                  value={password}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"password\");\r\n                  }}\r\n                  disabled={\r\n                    this.state.action === CRUD_ACTIONS.EDIT ? true : false\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.firstName\" />\r\n                </label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  value={firstName}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"firstName\");\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.lastName\" />\r\n                </label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  value={lastName}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"lastName\");\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"col-9\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.address\" />\r\n                </label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  value={address}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"address\");\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.phone\" />\r\n                </label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  value={phoneNumber}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"phoneNumber\");\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.gender\" />\r\n                </label>\r\n                <select\r\n                  id=\"inputState\"\r\n                  className=\"form-control\"\r\n                  value={gender}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"gender\");\r\n                  }}\r\n                >\r\n                  {genders &&\r\n                    genders.length > 0 &&\r\n                    genders.map((item, index) => {\r\n                      return (\r\n                        <option key={index} value={item.keyMap}>\r\n                          {language === LANGUAGES.VI\r\n                            ? item.valueVi\r\n                            : item.valueEn}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                </select>\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.position\" />\r\n                </label>\r\n                <select\r\n                  id=\"inputState\"\r\n                  className=\"form-control\"\r\n                  value={position}\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"position\");\r\n                  }}\r\n                >\r\n                  {positions &&\r\n                    positions.length > 0 &&\r\n                    positions.map((item, index) => {\r\n                      return (\r\n                        <option key={index} value={item.keyMap}>\r\n                          {language === LANGUAGES.VI\r\n                            ? item.valueVi\r\n                            : item.valueEn}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                </select>\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.role\" />\r\n                </label>\r\n                <select\r\n                  value={role}\r\n                  id=\"inputState\"\r\n                  className=\"form-control\"\r\n                  onChange={(event) => {\r\n                    this.onChangeInput(event, \"role\");\r\n                  }}\r\n                >\r\n                  {roles &&\r\n                    roles.length > 0 &&\r\n                    roles.map((item, index) => {\r\n                      return (\r\n                        <option key={index} value={item.keyMap}>\r\n                          {language === LANGUAGES.VI\r\n                            ? item.valueVi\r\n                            : item.valueEn}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                </select>\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <label>\r\n                  <FormattedMessage id=\"manage-user.image\" />\r\n                </label>\r\n                <div className=\"preview-container-img\">\r\n                  <input\r\n                    id=\"preview-img\"\r\n                    type=\"file\"\r\n                    hidden\r\n                    onChange={(event) => {\r\n                      this.handleOnChangeImg(event);\r\n                    }}\r\n                  />\r\n                  <label className=\"label-upload\" htmlFor=\"preview-img\">\r\n                    Ti nh <i className=\"fa fa-upload\"></i>\r\n                  </label>\r\n                  <div\r\n                    className=\"preview-img\"\r\n                    style={{\r\n                      backgroundImage: `url(\"${this.state.previewImg}\")`,\r\n                    }}\r\n                    onClick={() => this.openPreviewImg()}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-12 my-5\">\r\n                {\" \"}\r\n                <button\r\n                  className={\r\n                    this.state.action === CRUD_ACTIONS.EDIT\r\n                      ? \"btn btn-warning\"\r\n                      : \"btn btn-primary\"\r\n                  }\r\n                  onClick={() => this.handleSaveUser()}\r\n                >\r\n                  {this.state.action === CRUD_ACTIONS.EDIT ? (\r\n                    <FormattedMessage id=\"manage-user.edit\" />\r\n                  ) : (\r\n                    <FormattedMessage id=\"manage-user.save\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"col-12 mb-5\">\r\n                <TableManageUser\r\n                  handleEditUserFromParent={this.handleEditUserFromParent}\r\n                  action={this.state.action}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.isOpen === true && (\r\n          <Lightbox\r\n            mainSrc={this.state.previewImg}\r\n            onCloseRequest={() => this.setState({ isOpen: false })}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoadingGender: state.admin.isLoadingGender,\r\n    language: state.app.language,\r\n    gendersRedux: state.admin.genders,\r\n    positionsRedux: state.admin.positions,\r\n    listUser: state.admin.users,\r\n    rolesRedux: state.admin.roles,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getGenderStart: () => dispatch(actions.fetchGenderStart()),\r\n    getPositionStart: () => dispatch(actions.fetchPositionStart()),\r\n    getRoleStart: () => dispatch(actions.fetchRoleStart()),\r\n    createNewUser: (data) => dispatch(actions.createNewUser(data)),\r\n    fetchUserRedux: () => dispatch(actions.fetchAllUsersStart()),\r\n    editAUserRedux: (data) => dispatch(actions.editAUser(data)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserRedux);\r\n"]},"metadata":{},"sourceType":"module"}